// Generate realistic sheet metal DXF files for testing
const fs = require('fs').promises;
const path = require('path');

// DXF Header - standard for all files
const dxfHeader = `999
DXF created by Smart Quote Generator
0
SECTION
2
HEADER
9
$ACADVER
1
AC1014
9
$INSBASE
10
0.0
20
0.0
30
0.0
9
$EXTMIN
10
0.0
20
0.0
30
0.0
9
$EXTMAX
10
1000.0
20
1000.0
30
0.0
0
ENDSEC
0
SECTION
2
TABLES
0
TABLE
2
LAYER
0
LAYER
2
0
70
0
62
7
0
LAYER
2
BEND
70
0
62
1
0
LAYER
2
CUTOUT
70
0
62
3
0
ENDTAB
0
ENDSEC
0
SECTION
2
ENTITIES
`;

const dxfFooter = `0
ENDSEC
0
EOF`;

// 1. Computer chassis side panel
const chassisPanel = `${dxfHeader}0
COMMENT
999
Computer Chassis Side Panel - 16ga Cold Rolled Steel
0
LWPOLYLINE
8
0
90
4
70
1
10
0.0
20
0.0
10
450.0
20
0.0
10
450.0
20
200.0
10
0.0
20
200.0
0
COMMENT
999
Ventilation slots
0
LWPOLYLINE
8
CUTOUT
90
4
70
1
10
50.0
20
150.0
10
150.0
20
150.0
10
150.0
20
170.0
10
50.0
20
170.0
0
LWPOLYLINE
8
CUTOUT
90
4
70
1
10
50.0
20
120.0
10
150.0
20
120.0
10
150.0
20
140.0
10
50.0
20
140.0
0
LWPOLYLINE
8
CUTOUT
90
4
70
1
10
50.0
20
90.0
10
150.0
20
90.0
10
150.0
20
110.0
10
50.0
20
110.0
0
COMMENT
999
Fan mounting holes
0
CIRCLE
8
0
10
300.0
20
100.0
40
2.5
0
CIRCLE
8
0
10
400.0
20
100.0
40
2.5
0
CIRCLE
8
0
10
300.0
20
180.0
40
2.5
0
CIRCLE
8
0
10
400.0
20
180.0
40
2.5
0
COMMENT
999
Motherboard standoff holes
0
CIRCLE
8
0
10
200.0
20
50.0
40
1.75
0
CIRCLE
8
0
10
250.0
20
50.0
40
1.75
0
CIRCLE
8
0
10
200.0
20
100.0
40
1.75
0
CIRCLE
8
0
10
250.0
20
100.0
40
1.75
0
COMMENT
999
Bend line for edge flange
0
LINE
8
BEND
62
1
10
10.0
20
0.0
11
10.0
21
200.0
${dxfFooter}`;

// 2. Electronic enclosure (box with multiple bends)
const enclosureFlat = `${dxfHeader}0
COMMENT
999
Electronic Enclosure - Flat Pattern - 18ga Aluminum
0
LWPOLYLINE
8
0
90
20
70
1
10
0.0
20
0.0
10
300.0
20
0.0
10
300.0
20
50.0
10
350.0
20
50.0
10
350.0
20
150.0
10
300.0
20
150.0
10
300.0
20
200.0
10
200.0
20
200.0
10
200.0
20
250.0
10
100.0
20
250.0
10
100.0
20
200.0
10
0.0
20
200.0
10
0.0
20
150.0
10
-50.0
20
150.0
10
-50.0
20
50.0
10
0.0
20
50.0
0
COMMENT
999
Display cutout
0
LWPOLYLINE
8
CUTOUT
90
4
70
1
10
100.0
20
75.0
10
200.0
20
75.0
10
200.0
20
125.0
10
100.0
20
125.0
0
COMMENT
999
Connector holes
0
CIRCLE
8
0
10
250.0
20
100.0
40
6.35
0
CIRCLE
8
0
10
50.0
20
100.0
40
6.35
0
COMMENT
999
Mounting holes
0
CIRCLE
8
0
10
25.0
20
25.0
40
2.0
0
CIRCLE
8
0
10
275.0
20
25.0
40
2.0
0
CIRCLE
8
0
10
25.0
20
175.0
40
2.0
0
CIRCLE
8
0
10
275.0
20
175.0
40
2.0
0
COMMENT
999
Bend lines
0
LINE
8
BEND
62
1
10
0.0
20
50.0
11
300.0
21
50.0
0
LINE
8
BEND
62
1
10
0.0
20
150.0
11
300.0
21
150.0
0
LINE
8
BEND
62
1
10
100.0
20
200.0
11
100.0
21
250.0
0
LINE
8
BEND
62
1
10
200.0
20
200.0
11
200.0
21
250.0
${dxfFooter}`;

// 3. Bracket with complex cutouts
const complexBracket = `${dxfHeader}0
COMMENT
999
Heavy Duty Bracket - 1/4" Steel Plate
0
LWPOLYLINE
8
0
90
12
70
1
10
0.0
20
0.0
10
150.0
20
0.0
10
150.0
20
30.0
10
120.0
20
30.0
10
120.0
20
60.0
10
150.0
20
60.0
10
150.0
20
100.0
10
100.0
20
150.0
10
50.0
20
150.0
10
0.0
20
100.0
10
0.0
20
0.0
0
COMMENT
999
Weight reduction cutouts
0
CIRCLE
8
CUTOUT
10
30.0
20
30.0
40
10.0
0
LWPOLYLINE
8
CUTOUT
90
8
70
1
10
60.0
20
70.0
10
80.0
20
70.0
10
90.0
20
80.0
10
90.0
20
100.0
10
80.0
20
110.0
10
60.0
20
110.0
10
50.0
20
100.0
10
50.0
20
80.0
0
COMMENT
999
Mounting slots
0
LWPOLYLINE
8
0
90
4
70
1
10
120.0
20
10.0
10
140.0
20
10.0
10
140.0
20
20.0
10
120.0
20
20.0
0
LWPOLYLINE
8
0
90
4
70
1
10
10.0
20
70.0
10
20.0
20
70.0
10
20.0
20
90.0
10
10.0
20
90.0
0
COMMENT
999
Precision holes
0
CIRCLE
8
0
10
75.0
20
40.0
40
3.175
0
CIRCLE
8
0
10
75.0
20
130.0
40
3.175
0
COMMENT
999
Bend line
0
LINE
8
BEND
62
1
10
0.0
20
100.0
11
100.0
21
100.0
${dxfFooter}`;

// 4. Circular part with bolt pattern
const circularFlange = `${dxfHeader}0
COMMENT
999
Circular Mounting Flange - 3/16" Aluminum
0
CIRCLE
8
0
10
0.0
20
0.0
40
150.0
0
CIRCLE
8
CUTOUT
10
0.0
20
0.0
40
50.0
0
COMMENT
999
Bolt hole pattern - 8 holes
0
CIRCLE
8
0
10
100.0
20
0.0
40
5.0
0
CIRCLE
8
0
10
70.71
20
70.71
40
5.0
0
CIRCLE
8
0
10
0.0
20
100.0
40
5.0
0
CIRCLE
8
0
10
-70.71
20
70.71
40
5.0
0
CIRCLE
8
0
10
-100.0
20
0.0
40
5.0
0
CIRCLE
8
0
10
-70.71
20
-70.71
40
5.0
0
CIRCLE
8
0
10
0.0
20
-100.0
40
5.0
0
CIRCLE
8
0
10
70.71
20
-70.71
40
5.0
0
COMMENT
999
Lightening holes
0
CIRCLE
8
CUTOUT
10
35.0
20
35.0
40
10.0
0
CIRCLE
8
CUTOUT
10
-35.0
20
35.0
40
10.0
0
CIRCLE
8
CUTOUT
10
-35.0
20
-35.0
40
10.0
0
CIRCLE
8
CUTOUT
10
35.0
20
-35.0
40
10.0
${dxfFooter}`;

// Save all files
async function generateDXFFiles() {
  const outputDir = path.join(__dirname, '../test-files');
  
  try {
    await fs.mkdir(outputDir, { recursive: true });
  } catch (err) {
    // Directory might already exist
  }

  const files = [
    { name: 'chassis-panel.dxf', content: chassisPanel },
    { name: 'enclosure-flat.dxf', content: enclosureFlat },
    { name: 'complex-bracket.dxf', content: complexBracket },
    { name: 'circular-flange.dxf', content: circularFlange }
  ];

  console.log('üé® Generating realistic DXF test files...\n');

  for (const file of files) {
    const filePath = path.join(outputDir, file.name);
    await fs.writeFile(filePath, file.content);
    console.log(`‚úÖ Created: ${file.name}`);
  }

  console.log('\nüìÅ Files saved to:', outputDir);
  console.log('\nFile descriptions:');
  console.log('- chassis-panel.dxf: Computer case side panel with ventilation and mounting holes');
  console.log('- enclosure-flat.dxf: Electronic enclosure flat pattern with 4 bends');
  console.log('- complex-bracket.dxf: Heavy bracket with weight reduction cutouts');
  console.log('- circular-flange.dxf: Circular part with bolt pattern and lightening holes');
}

generateDXFFiles().catch(console.error);
